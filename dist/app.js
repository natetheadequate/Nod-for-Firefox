(function(t){function e(e){for(var n,i,r=e[0],c=e[1],l=e[2],u=0,m=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==a[c]&&(n=!1)}n&&(o.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},o=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("85ec"),a=s.n(n);a.a},"059d":function(t,e,s){},"0a07":function(t,e,s){},"14d9":function(t,e,s){"use strict";var n=s("2038"),a=s.n(n);a.a},"1fd4":function(t,e,s){"use strict";var n=s("2f03"),a=s.n(n);a.a},2038:function(t,e,s){},"29d4":function(t,e,s){},"2f03":function(t,e,s){},3495:function(t,e,s){},"3dcb":function(t,e,s){"use strict";var n=s("d90c"),a=s.n(n);a.a},"520b":function(t,e,s){"use strict";var n=s("a695"),a=s.n(n);a.a},"536a":function(t,e,s){"use strict";var n=s("059d"),a=s.n(n);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t.loaded?s("ReactionTray"):t._e(),t.loaded?s("MessageWrapper"):t._e()],1)},o=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-tray"},[s("div",{staticClass:"tray-inner",class:{open:t.trayOpen}},[s("ReactionsButton"),s("div",{staticClass:"divider"}),s("HandUpButton"),s("div",{staticClass:"divider"}),s("SettingsButton")],1)])},r=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tray-button-outer",attrs:{tabindex:"0"},on:{focus:t.closeDropdown,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendHand()},click:function(e){return t.sendHand()}}},[s("a",{staticClass:"tray-button",attrs:{tabindex:"-1","aria-label":"Raise your hand",role:"button"}},[s("div",{staticClass:"tray-button-bg"}),s("img",{staticStyle:{height:"32px"},attrs:{src:t.getHand}})])])},l=[];const d=(t,e)=>{var s=document.querySelectorAll(t);return[].filter.call(s,(function(t){return RegExp(e).test(t.textContent)}))},u=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,s="x"==t?e:3&e|8;return s.toString(16)}));var m={computed:{getHand(){return`chrome-extension://${this.$store.state.extensionID}/img/tones/${this.$store.state.tone}/hand.gif`},getUsername(){return this.$store.state.isFullName?this.$store.getters.getUser("fullName"):this.$store.getters.getUser("name")}},methods:{sendHand(){this.$store.dispatch("closeDropdown","reactions");const t=u();this.$store.state.hands.filter(t=>!0===t.owner).length<1&&(this.$store.dispatch("addHand",{emoji:"hand",username:`${this.getUsername} raised their hand`,img:this.$store.getters.getUser("avatar"),messageId:t,owner:!0,tone:this.$store.state.tone}),this.$socket.sendObj({action:"QUEUE",message:{id:this.$store.getters.getUser("meetingID"),emoji:"hand",username:`${this.getUsername} raised their hand`,img:this.$store.getters.getUser("avatar"),messageId:t,tone:this.$store.state.tone}}),this.$gtag.event("click",{event_category:"Reactions",event_label:"Hand Up",event_value:this.$store.state.tone}))},closeDropdown(){this.$store.dispatch("closeDropdown","reactions")}}},h=m,p=(s("8701"),s("2877")),g=Object(p["a"])(h,c,l,!1,null,"3c3ea06a",null),f=g.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tray-button-outer",attrs:{id:"nodBtn",tabindex:"0"},on:{mouseover:t.openReactions,mouseleave:t.closeReactions,keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.openReactions(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeReactions(e)}]}},[s("a",{staticClass:"tray-button",attrs:{tabindex:"-1","aria-label":"Open Nod extension",role:"button"}},[s("div",{staticClass:"tray-button-bg"}),s("img",{staticStyle:{height:"42px"},attrs:{src:t.getThumb}}),this.$store.state.reactions?s("ReactionsDropdown"):t._e()],1)])},b=[],k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown",attrs:{id:"reactions-dropdown"}},[s("Reaction",{attrs:{emoji:"thumb",label:"Send thumbs up emoji"}}),s("Reaction",{attrs:{emoji:"thumb_down",label:"Send thumbs down emoji"}}),s("Reaction",{attrs:{emoji:"clap",label:"Send clapping emoji"}}),s("Reaction",{attrs:{emoji:"wave",label:"Send wave emoji"}}),s("Reaction",{attrs:{emoji:"celebrate",label:"Send celebration face emoji"}}),s("Reaction",{attrs:{emoji:"laugh",label:"Send laughing emoji"}}),s("WantMore")],1)},x=[],y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":t.label,role:"button"},on:{click:function(e){return t.sendMessage(t.emoji)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage(t.emoji)}}},[s("div",{staticClass:"dropdown-item",class:{faded:!t.canPost},attrs:{tabindex:"-1"}},[s("img",{staticClass:"emoji",attrs:{src:t.getToneImg}})])])},w=[],$={props:{emoji:String,text:String,label:String},computed:{canPost(){return this.$store.state.messages.filter(t=>!0===t.owner).length<1},getToneImg(){return`chrome-extension://${this.$store.state.extensionID}/img/tones/${this.$store.state.tone}/${this.emoji}.gif`},getUsername(){return this.$store.state.isFullName?this.$store.getters.getUser("fullName"):this.$store.getters.getUser("name")}},methods:{sendMessage(t){this.$store.dispatch("closeDropdown","reactions"),this.canPost&&(this.$store.dispatch("addMessage",{messageId:u(),emoji:t,username:this.getUsername,img:this.$store.getters.getUser("avatar"),owner:!0,tone:this.$store.state.tone}),this.$socket.sendObj({action:"MESSAGE",message:{id:this.$store.getters.getUser("meetingID"),emoji:t,username:this.getUsername,img:this.$store.getters.getUser("avatar"),tone:this.$store.state.tone}}),this.$gtag.event("click",{event_category:"Reactions",event_label:t,event_value:this.$store.state.tone}))}}},C=$,_=(s("ce9f"),Object(p["a"])(C,y,w,!1,null,"1eb75b61",null)),j=_.exports,S=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},O=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":"Want more emojis?",role:"button"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"https://nod.rocks/emojis",target:"_blank",tabindex:"-1"}},[t._v(" Want more emojis? ")])])}],D={},E=D,I=(s("536a"),Object(p["a"])(E,S,O,!1,null,"4fe70541",null)),U=I.exports,M={components:{Reaction:j,WantMore:U}},N=M,H=(s("520b"),Object(p["a"])(N,k,x,!1,null,"5ef7af4c",null)),T=H.exports,z={components:{ReactionsDropdown:T},computed:{getThumb(){return`chrome-extension://${this.$store.state.extensionID}/img/tones/${this.$store.state.tone}/thumb.gif`}},methods:{openReactions:function(){this.$store.dispatch("openDropdown","reactions")},closeReactions:function(){this.$store.dispatch("closeDropdown","reactions")}}},R=z,B=(s("5d77"),Object(p["a"])(R,v,b,!1,null,"57d93885",null)),A=B.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"tray-button-outer",attrs:{tabindex:"0"},on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toggleDropdown(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDropdown(e)}],mouseleave:t.closeDropdown}},[s("a",{staticClass:"uArJ5e UQuaGc kCyAyd kW31ib foXzLb tray-button",attrs:{tabindex:"-1","aria-label":"Open Nod settings",role:"button"}},[s("div",{staticClass:"e19J0b CeoRYc",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleDropdown(e)}}}),s("span",{staticClass:"DPvwYc sm8sCf SX67K",attrs:{"aria-hidden":"true"}},[s("svg",{staticClass:"Hdh4hc cIGbvc NMm5M",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",focusable:"false"}},[s("path",{attrs:{d:"M13.85 22.25h-3.7c-.74 0-1.36-.54-1.45-1.27l-.27-1.89c-.27-.14-.53-.29-.79-.46l-1.8.72c-.7.26-1.47-.03-1.81-.65L2.2 15.53c-.35-.66-.2-1.44.36-1.88l1.53-1.19c-.01-.15-.02-.3-.02-.46 0-.15.01-.31.02-.46l-1.52-1.19c-.59-.45-.74-1.26-.37-1.88l1.85-3.19c.34-.62 1.11-.9 1.79-.63l1.81.73c.26-.17.52-.32.78-.46l.27-1.91c.09-.7.71-1.25 1.44-1.25h3.7c.74 0 1.36.54 1.45 1.27l.27 1.89c.27.14.53.29.79.46l1.8-.72c.71-.26 1.48.03 1.82.65l1.84 3.18c.36.66.2 1.44-.36 1.88l-1.52 1.19c.01.15.02.3.02.46s-.01.31-.02.46l1.52 1.19c.56.45.72 1.23.37 1.86l-1.86 3.22c-.34.62-1.11.9-1.8.63l-1.8-.72c-.26.17-.52.32-.78.46l-.27 1.91c-.1.68-.72 1.22-1.46 1.22zm-3.23-2h2.76l.37-2.55.53-.22c.44-.18.88-.44 1.34-.78l.45-.34 2.38.96 1.38-2.4-2.03-1.58.07-.56c.03-.26.06-.51.06-.78s-.03-.53-.06-.78l-.07-.56 2.03-1.58-1.39-2.4-2.39.96-.45-.35c-.42-.32-.87-.58-1.33-.77l-.52-.22-.37-2.55h-2.76l-.37 2.55-.53.21c-.44.19-.88.44-1.34.79l-.45.33-2.38-.95-1.39 2.39 2.03 1.58-.07.56a7 7 0 0 0-.06.79c0 .26.02.53.06.78l.07.56-2.03 1.58 1.38 2.4 2.39-.96.45.35c.43.33.86.58 1.33.77l.53.22.38 2.55z"}}),s("circle",{attrs:{cx:"12",cy:"12",r:"3.5"}})])]),this.$store.state.settings?s("SettingsDropdown"):t._e()],1)])},F=[],V=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown"},[s("SkinToneSelector"),s("div",{staticClass:"kCtYwe",attrs:{role:"separator"}}),s("NameDisplay"),s("div",{staticClass:"kCtYwe",attrs:{role:"separator"}}),s("NotificationsButton"),s("UpdateButton"),s("div",{staticClass:"kCtYwe",attrs:{role:"separator"}}),s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":"Report an Issue",role:"button"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"https://nod.rocks/request",target:"_blank",tabindex:"-1"}},[s("svg",{staticClass:"settings-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 2.02c-5.51 0-9.98 4.47-9.98 9.98s4.47 9.98 9.98 9.98 9.98-4.47 9.98-9.98S17.51 2.02 12 2.02zM11.48 20v-6.26H8L13 4v6.26h3.35L11.48 20z"}})]),t._v(" Feature Request ")])]),s("div",{staticClass:"dropdown-outer",staticStyle:{"margin-bottom":"5px"},attrs:{tabindex:"0","aria-label":"Report an Issue",role:"button"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"https://nod.rocks/issue",target:"_blank",tabindex:"-1"}},[s("svg",{staticClass:"settings-icon",attrs:{width:"24",height:"24",viewBox:"0 0 24 24",focusable:"false"}},[s("path",{attrs:{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H5.17l-.59.59-.58.58V4h16v12z"}}),s("path",{attrs:{d:"M11 12h2v2h-2zm0-6h2v4h-2z"}})]),t._v(" Report an Issue ")])]),s("AdBtn")],1)},P=[],W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.notificationStatus?s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":"Turn off Notifications",role:"button"},on:{click:t.turnOffNotifications,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.turnOffNotifications(e)}}},[s("div",{staticClass:"dropdown-item",attrs:{tabindex:"-1"}},[s("svg",{staticClass:"settings-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}})]),t._v(" Turn off Notifications ")])]):s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":"Turn on Notifications",role:"button"},on:{mouseenter:function(e){t.isHover=!0},mouseleave:function(e){t.isHover=!1},click:t.turnOnNotifications,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.turnOnNotifications(e)}}},[s("div",{staticClass:"dropdown-item",attrs:{tabindex:"-1"}},[s("svg",{staticClass:"settings-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"black",width:"24px",height:"24px"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}})]),t._v(" Turn on Notifications ")])]),t.isHover?s("NotificationsExplainer"):t._e()],1)},J=[],q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"explainer"},[s("img",{staticStyle:{width:"200px"},attrs:{src:t.notificationImg}}),t._m(0)])},G=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"explainer-body"},[s("div",{staticClass:"nod-pill"},[t._v("New")]),s("div",{staticClass:"explainer-title"},[s("b",[t._v("Notifications")])]),t._v(" Get notified when someone raises their hand and you can't see. Perfect for presenters. ")])}],Y={computed:{notificationImg(){return`chrome-extension://${this.$store.state.extensionID}/img/notification.png`}}},Q=Y,K=(s("d227"),Object(p["a"])(Q,q,G,!1,null,"3ce269b6",null)),X=K.exports,Z={components:{NotificationsExplainer:X},data(){return{notificationStatus:!1,isHover:!1}},methods:{turnOnNotifications(){var t=this;t.isHover=!1,chrome.runtime.sendMessage(this.$store.state.extensionID,{type:"notification"},(function(e){t.notificationStatus=e.permissions,localStorage.setItem("notificationStatus",e.permissions)}))},turnOffNotifications(){this.notificationStatus=!1,localStorage.setItem("notificationStatus",!1)}},created:function(){this.notificationStatus="true"===localStorage.getItem("notificationStatus")}},tt=Z,et=(s("b5db"),Object(p["a"])(tt,W,J,!1,null,"b67d3960",null)),st=et.exports,nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":"Check for update",role:"button"},on:{click:t.checkUpdate,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.checkUpdate(e)}}},[s("div",{staticClass:"dropdown-item",attrs:{tabindex:"-1"}},[t.$store.state.updateChecked?t._e():s("svg",{staticClass:"settings-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M0 .5h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 16.5l4-4h-3v-9h-2v9H8l4 4zm9-13h-6v1.99h6v14.03H3V5.49h6V3.5H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-14c0-1.1-.9-2-2-2z"}})]),t.$store.state.updateChecked?t._e():s("span",[t._v("Check for Update")]),t.updateAvailable?s("svg",{staticClass:"settings-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}}),s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}})]):t._e(),t.updateAvailable?s("a",{attrs:{tabindex:"0","aria-label":"Reload page to update",role:"button"},on:{click:function(e){return t.reload()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reload()}}},[t._v("Click to update")]):t._e(),t.noUpdateAvailable?s("svg",{staticClass:"settings-icon faded",attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"}})]):t._e(),t.noUpdateAvailable?s("span",{staticClass:"faded"},[t._v("On latest version")]):t._e()])])},at=[],ot={computed:{updateAvailable(){return 1==this.$store.state.updateAvailable&&this.$store.state.updateChecked},noUpdateAvailable(){return 0==this.$store.state.updateAvailable&&this.$store.state.updateChecked}},methods:{checkUpdate(){const t=this.$store;t.dispatch("setUpdateChecked",!0),chrome.runtime.sendMessage(this.$store.state.extensionID,{reload:!0},(function(e){t.dispatch("setUpdateStatus",e.updateAvailable)}))},reload(){location.reload()}}},it=ot,rt=(s("cf24"),Object(p["a"])(it,nt,at,!1,null,"449666cd",null)),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-outer",attrs:{"aria-label":"Check for update",role:"button"}},[s("div",{staticClass:"dropdown-item"},[s("div",{staticClass:"tone-picker tone-picker-0",attrs:{tabindex:"0","aria-label":"Set default skin tone",role:"button"},on:{click:function(e){return t.setTone(0)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setTone(0)}}}),s("div",{staticClass:"tone-picker tone-picker-1",attrs:{tabindex:"0","aria-label":"Set light skin tone",role:"button"},on:{click:function(e){return t.setTone(1)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setTone(1)}}}),s("div",{staticClass:"tone-picker tone-picker-2",attrs:{tabindex:"0","aria-label":"Set medium-light skin tone",role:"button"},on:{click:function(e){return t.setTone(2)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setTone(2)}}}),s("div",{staticClass:"tone-picker tone-picker-3",attrs:{tabindex:"0","aria-label":"Set medium skin tone",role:"button"},on:{click:function(e){return t.setTone(3)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setTone(3)}}}),s("div",{staticClass:"tone-picker tone-picker-4",attrs:{tabindex:"0","aria-label":"Set medium-dark skin tone",role:"button"},on:{click:function(e){return t.setTone(4)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setTone(4)}}}),s("div",{staticClass:"tone-picker tone-picker-5",attrs:{tabindex:"0","aria-label":"Set dark skin tone",role:"button"},on:{click:function(e){return t.setTone(5)},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setTone(5)}}})])])},dt=[],ut={methods:{setTone(t){this.$store.dispatch("setTone",t),localStorage.setItem("nod-skinTone",t)}}},mt=ut,ht=(s("6a20"),Object(p["a"])(mt,lt,dt,!1,null,"14aae080",null)),pt=ht.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-outer",attrs:{"aria-label":"Check for update",role:"button"}},[s("div",{staticClass:"dropdown-item"},[s("div",{staticClass:"user-wrapper"},[s("img",{staticClass:"nod-avatar",attrs:{src:t.avatar}}),t._v(" "+t._s(t.name)+" ")]),s("div",{staticClass:"next-btn",on:{click:t.toggleNameDisplay}},[this.$store.state.isFullName?s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0zm0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}})]):s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[s("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),s("path",{attrs:{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}})])])])])},ft=[],vt={methods:{toggleNameDisplay(){this.$store.dispatch("setFullName",!this.$store.state.isFullName),localStorage.setItem("nod-isFullName",this.$store.state.isFullName)},truncate(t){var e=t.trim();return e=e.split("").slice(0,15),e=e.length<15?e.join(""):e.join("")+"...",e}},computed:{avatar(){return this.$store.getters.getUser("avatar")},name(){return this.$store.state.isFullName?this.truncate(this.$store.getters.getUser("fullName")):this.truncate(this.$store.getters.getUser("name"))}}},bt=vt,kt=(s("d136"),Object(p["a"])(bt,gt,ft,!1,null,"01678f1f",null)),xt=kt.exports,yt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},wt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-outer",attrs:{tabindex:"0","aria-label":"Report an Issue",role:"button"}},[s("div",{attrs:{id:"cutton-js"}})])}],$t={mounted(){this.loadScript()},methods:{loadScript(){if("undefined"===typeof window._bsa)return console.warn("Could not load Carbon Ads Text");window._bsa.init("custom","CE7IC2QL","placement:nodrocks",{forceReload:!0,target:"#cutton-js",template:'\n          <label class="native-button" for="native-button" style="background-color: ##backgroundColor##; color: ##textColor##;"><img src="##image##" class="native-img">Sponsored by ##company##</label>\n          <input type="checkbox" id="native-button">\n          <div class="native-overlay" style="background-color: ##backgroundColor##; color: ##textColor##">\n            <div class="native-banner">\n              <img class="native-logo" src="##logo##">\n              <div class="native-tagline">##tagline##</div>\n              <div class="native-description">##description##</div>\n              <div class="native-footer">\n                <a href="##statlink##" class="native-cta" style="background-color: ##ctaBackgroundColor##; color: ##ctaTextColor##">##callToAction##</a>\n              </div>\n            </div>\n          </div>'})}}},Ct=$t,_t=(s("85e2"),Object(p["a"])(Ct,yt,wt,!1,null,null,null)),jt=_t.exports,St={components:{AdBtn:jt,NotificationsButton:st,UpdateButton:ct,SkinToneSelector:pt,NameDisplay:xt}},Ot=St,Dt=(s("a7aa"),Object(p["a"])(Ot,V,P,!1,null,"36da2176",null)),Et=Dt.exports,It={components:{SettingsDropdown:Et},methods:{toggleDropdown(){this.$store.state.settings?this.$store.dispatch("closeDropdown","settings"):this.$store.dispatch("openDropdown","settings")},closeDropdown(){this.$store.dispatch("closeDropdown","settings")}}},Ut=It,Mt=(s("5988"),Object(p["a"])(Ut,L,F,!1,null,"72ebea3c",null)),Nt=Mt.exports,Ht={components:{HandUpButton:f,ReactionsButton:A,SettingsButton:Nt},computed:{trayOpen(){return this.$store.state.reactions||this.$store.state.settings}},created:function(){const t=localStorage.getItem("nod-skinTone");t?this.$store.dispatch("setTone",parseInt(t)):localStorage.setItem("nod-skinTone",0)}},Tt=Ht,zt=(s("1fd4"),Object(p["a"])(Tt,i,r,!1,null,null,null)),Rt=zt.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition-group",{staticClass:"nod-message-wrapper",attrs:{name:"fading"}},[t._l(t.messages,(function(t){return s("Message",{key:t.messageId,attrs:{emoji:t.emoji,username:t.username,img:t.img,tone:t.tone}})})),t._l(t.hands,(function(t){return s("Hand",{key:t.messageId,attrs:{username:t.username,img:t.img,messageId:t.messageId,tone:t.tone}})}))],2)],1)},At=[],Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nod-message"},[s("div",{staticClass:"nod-emoji-wrapper"},[s("img",{staticClass:"nod-emoji",attrs:{src:t.getEmoji,alt:t.emoji}})]),s("img",{staticClass:"nod-avatar",attrs:{src:t.img,alt:t.username}}),t._v(" "+t._s(t.username)+" ")])},Ft=[],Vt={computed:{getEmoji(){return this.tone>=0?`chrome-extension://${this.$store.state.extensionID}/img/tones/${this.tone}/${this.emoji}.gif`:`chrome-extension://${this.$store.state.extensionID}/img/tones/0/${this.emoji}.gif`}},props:{username:String,emoji:String,img:String,tone:Number}},Pt=Vt,Wt=(s("fe15"),Object(p["a"])(Pt,Lt,Ft,!1,null,"cf499e60",null)),Jt=Wt.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nod-message",on:{mouseenter:function(e){return e.target!==e.currentTarget?null:t.mouseIn(e)},mouseleave:function(e){return e.target!==e.currentTarget?null:t.mouseOut(e)},click:function(e){return t.removeHand(t.messageId)}}},[s("div",{staticClass:"nod-emoji-wrapper"},[t.hover?s("img",{staticClass:"nod-emoji",attrs:{src:t.getCloseButton,alt:"Remove icon"}}):s("img",{staticClass:"nod-emoji",attrs:{src:t.getEmoji,alt:"Hands up emoji"}})]),s("img",{staticClass:"nod-avatar",attrs:{src:t.img,alt:t.username}}),t._v(" "+t._s(t.username)+" ")])},Gt=[],Yt={computed:{getEmoji(){return this.tone>=0?`chrome-extension://${this.$store.state.extensionID}/img/tones/${this.tone}/hand.gif`:`chrome-extension://${this.$store.state.extensionID}/img/tones/0/hand.gif`},getCloseButton(){return`chrome-extension://${this.$store.state.extensionID}/img/down.png`}},props:{username:String,img:String,messageId:String,tone:Number},data(){return{hover:!1}},methods:{mouseIn(){this.hover=!0},mouseOut(){this.hover=!1},removeHand(t){this.$store.dispatch("removeHand",t),this.$socket.sendObj({action:"REMOVE",message:{id:this.$store.getters.getUser("meetingID"),messageId:t}})}}},Qt=Yt,Kt=(s("3dcb"),Object(p["a"])(Qt,qt,Gt,!1,null,"86510af0",null)),Xt=Kt.exports,Zt={components:{Message:Jt,Hand:Xt},computed:{messages(){return this.$store.state.messages},hands(){return this.$store.state.hands}},created:function(){this.$options.sockets.onmessage=({data:t})=>{const e=JSON.parse(t);switch(e.action){case"MESSAGE":this.$store.dispatch("addMessage",{messageId:e.message.messageId||u(),emoji:e.message.emoji,username:e.message.username,img:e.message.img,owner:!1,tone:e.message.tone});break;case"QUEUE":this.$store.dispatch("addHand",{messageId:e.message.messageId,username:e.message.username,img:e.message.img,owner:!1,tone:e.message.tone}),0==this.$store.state.visible&&"true"==localStorage.getItem("notificationStatus")&&chrome.runtime.sendMessage(this.$store.state.extensionID,{type:"displayNotification",options:{title:"Notification from Nod",message:e.message.username,iconUrl:e.message.tone?`chrome-extension://${this.$store.state.extensionID}/img/tones/${e.message.tone}/hand.gif`:`chrome-extension://${this.$store.state.extensionID}/img/tones/0/hand.gif`,type:"basic"}});break;case"REMOVE":this.$store.dispatch("removeHand",e.message.messageId);break}}}},te=Zt,ee=(s("14d9"),Object(p["a"])(te,Bt,At,!1,null,"33b0340c",null)),se=ee.exports,ne={name:"App",data(){return{loaded:!1}},components:{ReactionTray:Rt,MessageWrapper:se},created:function(){this.getData(),this.$options.sockets.onopen=t=>{this.websocketInit(),this.setupListeners()}},methods:{getData(){const t=d("script","accounts.google.com"),e=JSON.parse(t[1].text.match(/\[(.*?)\]/)[0]);let s={meetingID:document.querySelector("[data-unresolved-meeting-id]").getAttribute("data-unresolved-meeting-id"),name:e[6].split(" ")[0],fullName:e[6],team:e[28],avatar:e[5]};this.$store.dispatch("addUserData",s);const n="true"===localStorage.getItem("nod-isFullName");n&&this.$store.dispatch("setFullName",n)},websocketInit(){this.loaded=!0,this.$socket.sendObj({route:"join",data:{id:this.$store.getters.getUser("meetingID"),team:this.$store.getters.getUser("team")}}),console.log("%c Initialised Nod Extension.","background: #4D2F3C; color: #FBE2A0"),console.log("%c Something gone wrong? Let me know - hi@jamiec.io","background: #4D2F3C; color: #FBE2A0");const t=()=>{console.log("Keeping Nod alive..."),this.$socket.sendObj({route:"ping"})};setInterval(t,54e4)},setupListeners(){this.setupTabListener(),this.setupDestroyListener(),this.setupVisibilityListeners()},setupVisibilityListeners(){const t=this;document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState?t.$store.dispatch("setVisible",!1):t.$store.dispatch("setVisible",!0)}))},setupTabListener(){document.addEventListener("keydown",(function(t){9===t.keyCode&&(document.activeElement!=document.body&&null!=document.activeElement||(t.preventDefault(),document.getElementById("nodBtn").focus()))}))},async setupDestroyListener(){window.addEventListener("beforeunload",t=>{this.$socket.sendObj({route:"disconnect",data:{id:this.$store.getters.getUser("meetingID")}})});while(null==document.querySelector("[data-call-ended='true']"))await new Promise(t=>setTimeout(t,200));this.loaded=!1,this.$socket.sendObj({route:"disconnect",data:{id:this.$store.getters.getUser("meetingID")}}),this.$socket.close()}}},ae=ne,oe=(s("034f"),Object(p["a"])(ae,a,o,!1,null,null,null)),ie=oe.exports,re=s("b408"),ce=s.n(re),le=s("2f62");n["a"].use(le["a"]);var de=new le["a"].Store({state:{extensionID:"oikgofeboedgfkaacpfepbfmgdalabej",userData:{},messages:[],hands:[],reactions:!1,settings:!1,updateAvailable:!1,updateChecked:!1,visible:!0,isFullName:!1,tone:0},getters:{getUser:t=>e=>t.userData[e]},mutations:{addMessage(t,e){t.messages.unshift(e)},removeMessage(t,e){t.messages=t.messages.filter(t=>t!=e)},addHand(t,e){t.hands.unshift(e)},removeHand(t,e){t.hands=t.hands.filter(t=>t.messageId!=e)},addUserData(t,e){t.userData=e},openDropdown(t,e){t[e]=!0},closeDropdown(t,e){t[e]=!1},setUpdateStatus(t,e){t.updateAvailable=e},setUpdateChecked(t,e){t.updateChecked=e},setVisible(t,e){t.visible=e},setTone(t,e){t.tone=e},setFullName(t,e){t.isFullName=e}},actions:{addMessage(t,e){t.commit("addMessage",e),setTimeout(()=>{t.commit("removeMessage",e)},3e3)},addHand(t,e){t.commit("addHand",e)},removeHand(t,e){t.commit("removeHand",e)},openDropdown(t,e){t.commit("openDropdown",e)},closeDropdown(t,e){t.commit("closeDropdown",e)},addUserData(t,e){t.commit("addUserData",e)},setUpdateStatus(t,e){t.commit("setUpdateStatus",e)},setUpdateChecked(t,e){t.commit("setUpdateChecked",e)},setVisible(t,e){t.commit("setVisible",e)},setTone(t,e){t.commit("setTone",e)},setFullName(t,e){t.commit("setFullName",e)}}}),ue=s("a584");n["a"].config.productionTip=!1,n["a"].use(ce.a,"wss://j24amtdvi4.execute-api.us-east-1.amazonaws.com/prod",{format:"json",reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3}),n["a"].use(ue["a"],{config:{id:"UA-162154532-1"},disableScriptLoad:!0}),new n["a"]({store:de,render:function(t){return t(ie)}}).$mount("#app")},5988:function(t,e,s){"use strict";var n=s("8b71"),a=s.n(n);a.a},"5d77":function(t,e,s){"use strict";var n=s("8186"),a=s.n(n);a.a},"68c8":function(t,e,s){},"6a1f":function(t,e,s){},"6a20":function(t,e,s){"use strict";var n=s("6a1f"),a=s.n(n);a.a},8186:function(t,e,s){},8489:function(t,e,s){},"85e2":function(t,e,s){"use strict";var n=s("8489"),a=s.n(n);a.a},"85ec":function(t,e,s){},8701:function(t,e,s){"use strict";var n=s("f2bc"),a=s.n(n);a.a},"8b71":function(t,e,s){},"9c1b":function(t,e,s){},a695:function(t,e,s){},a7aa:function(t,e,s){"use strict";var n=s("c037"),a=s.n(n);a.a},b514:function(t,e,s){},b5db:function(t,e,s){"use strict";var n=s("0a07"),a=s.n(n);a.a},c037:function(t,e,s){},ce9f:function(t,e,s){"use strict";var n=s("9c1b"),a=s.n(n);a.a},cf24:function(t,e,s){"use strict";var n=s("29d4"),a=s.n(n);a.a},d136:function(t,e,s){"use strict";var n=s("b514"),a=s.n(n);a.a},d227:function(t,e,s){"use strict";var n=s("3495"),a=s.n(n);a.a},d90c:function(t,e,s){},f2bc:function(t,e,s){},fe15:function(t,e,s){"use strict";var n=s("68c8"),a=s.n(n);a.a}});
//# sourceMappingURL=app.js.map